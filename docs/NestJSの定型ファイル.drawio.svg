<?xml version="1.0" encoding="UTF-8"?>
<!-- Do not edit this file with editors other than diagrams.net -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="511px" height="781px" viewBox="-0.5 -0.5 511 781" content="&lt;mxfile host=&quot;app.diagrams.net&quot; modified=&quot;2021-12-18T06:38:27.056Z&quot; agent=&quot;5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.45 Safari/537.36&quot; etag=&quot;NsxFBrNyv8fhvDugn-6E&quot; version=&quot;15.8.7&quot; type=&quot;google&quot;&gt;&lt;diagram id=&quot;gPP8OaMmQaOy4zDc9wFW&quot; name=&quot;定型ファイル&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs/><g><rect x="20" y="20" width="470" height="160" fill="#f5f5f5" stroke="#666666" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 468px; height: 1px; padding-top: 27px; margin-left: 22px;"><div data-drawio-colors="color: #333333; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font color="#5a5a5a" face="Source Sans Pro, Helvetica Neue, sans-serif"><span style="font-size: 15px ; background-color: rgb(249 , 249 , 249)">nest new project-name で作成された定型ファイルについて<br /><br />src</span></font><br />  |-<span style="color: rgb(90 , 90 , 90) ; font-family: &quot;source sans pro&quot; , &quot;helvetica neue&quot; , sans-serif ; font-size: 15px ; background-color: rgb(249 , 249 , 249)">main.ts：コア機能でエントリファイル</span><br />  |-<span style="color: rgb(90 , 90 , 90) ; font-family: &quot;source sans pro&quot; , &quot;helvetica neue&quot; , sans-serif ; font-size: 15px ; background-color: rgb(249 , 249 , 249)">app.service.ts：単一のメソッドによる基本的なサービス</span><br />  |-<span style="color: rgb(90 , 90 , 90) ; font-family: &quot;source sans pro&quot; , &quot;helvetica neue&quot; , sans-serif ; font-size: 15px ; background-color: rgb(249 , 249 , 249)">app.module.ts：アプリケーションのルートモジュール</span><br />  |-<span style="color: rgb(90 , 90 , 90) ; font-family: &quot;source sans pro&quot; , &quot;helvetica neue&quot; , sans-serif ; font-size: 15px ; background-color: rgb(249 , 249 , 249)">app.controller.ts：単一ルートの基本的なコントローラー</span><br />  |-<span style="color: rgb(90 , 90 , 90) ; font-family: &quot;source sans pro&quot; , &quot;helvetica neue&quot; , sans-serif ; font-size: 15px ; background-color: rgb(249 , 249 , 249)">app.controller.spec.ts：コントローラのテスト</span></div></div></div></foreignObject><text x="22" y="39" fill="#333333" font-family="Helvetica" font-size="12px">nest new project-name で作成された定型ファイルについて...</text></switch></g><rect x="20" y="200" width="470" height="120" fill="#f5f5f5" stroke="#666666" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 468px; height: 1px; padding-top: 207px; margin-left: 22px;"><div data-drawio-colors="color: #333333; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><span style="color: rgb(90 , 90 , 90) ; font-family: &quot;source sans pro&quot; , &quot;helvetica neue&quot; , sans-serif ; font-size: 15px ; background-color: rgb(249 , 249 , 249)">app.service.ts<br /></span><br />メインロジックを記述するところ。<br /><br /><b>@Injectable</b> というデコレーターは、<b>このクラスが依存関係の解決において注入可能なオブジェクトであることを示している</b>。このデコレーターを定義することで、後述の<b><font color="#ff3333">Moduleにて、自動的な依存関係の解決を行なってくれる</font></b>。</div></div></div></foreignObject><text x="22" y="219" fill="#333333" font-family="Helvetica" font-size="12px">app.service.ts...</text></switch></g><rect x="20" y="345" width="470" height="135" fill="#f5f5f5" stroke="#666666" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 468px; height: 1px; padding-top: 352px; margin-left: 22px;"><div data-drawio-colors="color: #333333; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><span style="color: rgb(90 , 90 , 90) ; font-family: &quot;source sans pro&quot; , &quot;helvetica neue&quot; , sans-serif ; font-size: 15px ; background-color: rgb(249 , 249 , 249)">app.</span><span style="color: rgb(90 , 90 , 90) ; font-family: &quot;source sans pro&quot; , &quot;helvetica neue&quot; , sans-serif ; font-size: 15px ; background-color: rgb(249 , 249 , 249)">controller</span><span style="color: rgb(90 , 90 , 90) ; font-family: &quot;source sans pro&quot; , &quot;helvetica neue&quot; , sans-serif ; font-size: 15px ; background-color: rgb(249 , 249 , 249)">.ts<br /></span><br />リクエストに関するレスポンス返却への関心を持つところ。<br /><br />コンストラクタが特徴的である。<br />NestJSでは、フレームワークの機能で、コンストラクタにてクラスの型を持つインスタンスを引数に定義すると、<b>自動的にそのインスタンスをthisに格納</b>する。<br />いわゆる、<b><font color="#ff3333">コンストラクタインジェクション</font></b>を提供している。</div></div></div></foreignObject><text x="22" y="364" fill="#333333" font-family="Helvetica" font-size="12px">app.controller.ts...</text></switch></g><rect x="20" y="510" width="470" height="250" fill="#f5f5f5" stroke="#666666" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 468px; height: 1px; padding-top: 517px; margin-left: 22px;"><div data-drawio-colors="color: #333333; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 51); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><span style="color: rgb(90 , 90 , 90) ; font-family: &quot;source sans pro&quot; , &quot;helvetica neue&quot; , sans-serif ; font-size: 15px ; background-color: rgb(249 , 249 , 249)">app.</span><span style="color: rgb(90 , 90 , 90) ; font-family: &quot;source sans pro&quot; , &quot;helvetica neue&quot; , sans-serif ; font-size: 15px ; background-color: rgb(249 , 249 , 249)">module</span><span style="color: rgb(90 , 90 , 90) ; font-family: &quot;source sans pro&quot; , &quot;helvetica neue&quot; , sans-serif ; font-size: 15px ; background-color: rgb(249 , 249 , 249)">.ts<br /></span><br />ControllerとServiceをまとめるところ。<br />他には、依存関係の解消で出てくる。<br /><br />前述したServiceの説明で、@Injectableを定義すると、注入可能なオブジェクト示すと説明したが、これをModuleから利用されることで価値が発生する。<br /><br /><b><font color="#ff3333">NestJSはDIを基本概念</font></b>としている。<br />@Injectableを定義したServiceは、Moduleの<b>Provider</b>として定義されることで、<b>Controllerに対して依存オブジェクトの注入を実行</b>する。<br />これにより、ServiceとControllerが密結合であることが解消され、再利用しやすいコードとなる。<br /><br />NestJSは、Controllerかどうか、Moduleかどうか、それ以外はServiceとして実装し、Providerとして提供される世界観であることが認識できていればよい。</div></div></div></foreignObject><text x="22" y="529" fill="#333333" font-family="Helvetica" font-size="12px">app.module.ts...</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>